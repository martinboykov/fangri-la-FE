<ion-content [fullscreen]="true">
  @if(contentItem) {
  <app-header-inner-page title="{{artistStore.artist.name()}}{{ 'ARTIST.PAGES.CONTENT_ITEM.TITLE' | translate }}"
                         [isArtistContent]="true"
                         [contentDate]="contentItem.date"
                         defaultHref="/artists/{{artistStore.artist.id()}}"></app-header-inner-page>
  <div class="container-sm flex flex-col gap-sm max-w-sm ">
    @if(contentItem.images && contentItem.images.length > 1){
    <app-main-swiper [imgs]="
           contentItem.images"
                     [paginationClass]="'swiper-artist'"
                     [imgClass]="'aspect-square'"
                     [isEdit]="isEdit()"
                     [contentId]="contentItem.id"
                     [options]="{autoHeight: true}"
                     (dblclick)="artistStore.increaseLikes(contentItem.id)"></app-main-swiper>

    }
    @if(contentItem.images && contentItem.images.length === 1){
    <div class="relative">
      <ion-img class="w-full h-full object-cover rounded-md overflow-hidden"
               [src]="contentItem.images[0] || '/assets/images/placeholder.svg'"
               (dblclick)="artistStore.increaseLikes(contentItem.id)"></ion-img>
      @if(isEdit()){

      <input class="absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] z-[3] size-10 rounded-[50%] cursor-pointer opacity-0"
             type="file"
             (change)="fileChanged($event, 'image', 0)">
      <span class="absolute block top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] z-[2] size-10 rounded-[50%] bg-[rgba(0,0,0,0.5)] touch-none pointer-events-none"></span>
      <span class="icon-plus text-white text-3 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[20] touch-none pointer-events-none"></span>

      }
    </div>
    }
    @if(contentItem.video) {
    <app-video class="block w-full aspect-video rounded-lg overflow-hidden"
               [poster]="contentItem.video.poster"
               [sources]="contentItem.video.sources"
               (dblclick)="artistStore.increaseLikes(contentItem.id)"></app-video>
    }
    <div class="flex justify-between items-start gap-sm">
      <div class="flex flex-col flex-sm w-full">
        @if(contentItem.title){

        @if(isEdit()){
        <textarea #content
                  rows="4"
                  class="w-full resize-none rounded-lg p-lg"
                  [value]="contentItem.content"
                  (change)="contentChanged($event, content.value)"></textarea>

        } @else {
        <h2 class="text-[14px] font-normal">{{contentItem.title}}</h2>
        }
        }
        <!-- @if(contentItem.date){
        <p class="text-[10px] text-[#fff] text-opacity-80">{{contentItem.date}}</p>
        } -->
      </div>
      <!-- @if(contentItem.likes){
      <span class="flex items-center gap-xs cursor-pointer"
            (click)="artistStore.increaseLikes(contentItem.id)">
        <span class="icon-heart text-[16px] text-yellow-100"></span>
        <span class="text-[12px] text-[#fff]">{{contentItem.likes}}</span>
      </span>
      } -->
    </div>
    <!-- @if(contentItem.content){
    <div class="flex flex-col gap-xs text-[14px]"
         [innerHTML]="contentItem.content">

    </div>
    } -->

  </div>
  }
</ion-content>
